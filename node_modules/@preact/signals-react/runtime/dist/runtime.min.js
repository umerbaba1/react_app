!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@preact/signals-core"),require("react"),require("use-sync-external-store/shim/index.js"),require("react/jsx-runtime"),require("react/jsx-dev-runtime")):"function"==typeof define&&define.amd?define(["exports","@preact/signals-core","react","use-sync-external-store/shim/index.js","react/jsx-runtime","react/jsx-dev-runtime"],e):e((n||self).reactSignalsRuntime={},n.preactSignalsCore,n.react,n.index_js,n.jsxRuntime,n.jsxRuntimeDev)}(this,function(n,e,t,r,i,u){function o(n){return n&&"object"==typeof n&&"default"in n?n.default:n}var f=/*#__PURE__*/o(t),c=/*#__PURE__*/o(i),a=/*#__PURE__*/o(u),s=!1,l=null,v=!1,d=null,p=new Map;function b(n){if(!n)return 1;var e,t=p.get(n);if(void 0!==t)return t;var r=n.useCallback.toString();if(n.useReducer===n.useEffect)e=1;else if(n.useEffect===n.useImperativeHandle)e=32;else if(/Invalid/.test(r))e=2;else if(/updateCallback/.test(r)||/\[0\]/.test(r)&&/\[1\]/.test(r)){var i=n.useReducer.toString();if(/rerenderReducer/.test(i)||/return\s*\[\w+,/.test(i))e=16;else e=8}else e=4;p.set(n,e);return e}var g=t.version.split(".").map(Number),m=[],h=Symbol.for(g[0]>=19?"react.transitional.element":"react.element"),y=function(){};function j(n){if("function"!=typeof n)return n;else return function(t,r){if("string"==typeof t&&r)for(var i in r){var u=r[i];if("children"!==i&&u instanceof e.Signal)r[i]=u.value}return n.call.apply(n,[n,t,r].concat([].slice.call(arguments,2)))}}var x,_=Symbol.dispose||Symbol.for("Symbol.dispose");function w(n,e){var t=e.effect.S();x=e;return S.bind(e,n,t)}function S(n,e){e();x=n}var q,k,B=((q={u:0,effect:{s:void 0,c:function(){},S:function(){return y},d:function(){}},subscribe:function(){return y},getSnapshot:function(){return 0},S:function(){},f:function(){}})[_]=function(){},q),N=Promise.prototype.then.bind(Promise.resolve());function O(){if(!k)k=N(P)}function P(){var n;k=void 0;null==(n=x)||n.f()}var R="undefined"!=typeof window?t.useLayoutEffect:t.useEffect;function T(n){if(void 0===n)n=0;O();var i=t.useRef();if(null==i.current)i.current=function(n){var t,r,i,u,o=0,f=e.effect(function(){r=this});r.c=function(){o=o+1|0;if(u)u()};return(t={u:n,effect:r,subscribe:function(n){u=n;return function(){o=o+1|0;u=void 0;f()}},getSnapshot:function(){return o},S:function(){if(null!=x){var n=x.u,e=this.u;if(0==n&&0==e||0==n&&1==e){x.f();i=w(void 0,this)}else if(1==n&&0==e||2==n&&0==e);else i=w(x,this)}else i=w(void 0,this)},f:function(){var n=i;i=void 0;null==n||n()}})[_]=function(){this.f()},t}(n);var u=i.current;r.useSyncExternalStore(u.subscribe,u.getSnapshot,u.getSnapshot);u.S();if(0===n)R(P);return u}Object.defineProperties(e.Signal.prototype,{$$typeof:{configurable:!0,value:h},type:{configurable:!0,value:function(n){var e=n.data,t=T(1);try{return e.value}finally{t.f()}}},props:{configurable:!0,get:function(){return{data:this}}},ref:{configurable:!0,value:null}});n.o=T;n.ensureFinalCleanup=O;n.installAutoSignalTracking=function(){if(t.version.split(".").map(Number)[0]>=19)throw new Error("Automatic signals tracking is not supported in React 19 and later, try the Babel plugin instead https://github.com/preactjs/signals/tree/main/packages/react-transform#signals-react-transform.");!function(){s=!0;Object.defineProperty(t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher,"current",{get:function(){return d},set:function(n){if(!v){var e=b(d),t=b(n);d=n;if(function(n,e){if(1&n&&28&e)return!0;else if(2&n||2&e)return!1;else return!1}(e,t)){v=!0;l=T(1);v=!1}else if(function(n,e){return Boolean(28&n&&16&e)}(e,t)){var r;null==(r=l)||r.f();v=!0;l=T(1);v=!1}else if(function(n,e){return Boolean(28&n&&1&e)}(e,t)){var i;null==(i=l)||i.f();l=null}}else d=n}})}();!function(){var n=c,e=a;f.createElement=j(f.createElement);e.jsx&&(e.jsx=j(e.jsx));n.jsx&&(n.jsx=j(n.jsx));e.jsxs&&(e.jsxs=j(e.jsxs));n.jsxs&&(n.jsxs=j(n.jsxs));e.jsxDEV&&(e.jsxDEV=j(e.jsxDEV));n.jsxDEV&&(n.jsxDEV=j(n.jsxDEV))}()};n.useComputed=function(n){var r=t.useRef(n);r.current=n;return t.useMemo(function(){return e.computed(function(){return r.current()})},m)};n.useSignal=function(n){return t.useMemo(function(){return e.signal(n)},m)};n.useSignalEffect=function(n){var r=t.useRef(n);r.current=n;t.useEffect(function(){return e.effect(function(){return r.current()})},m)};n.useSignals=function(n){if(s)return B;else return T(n)};n.wrapJsx=j});//# sourceMappingURL=runtime.min.js.map
